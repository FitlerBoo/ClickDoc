<Window x:Class="ClickDoc.Views.ActAcceptanceTransferWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        d:DataContext="{d:DesignInstance vm:AcceptanceTransferActVM}"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:ClickDoc.ViewModels"
        xmlns:local="clr-namespace:ClickDoc.Views"
        mc:Ignorable="d"
        Title="ClickDoc" Height="900" Width="800">

    <Grid Margin="10" ClipToBounds="True">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Label Grid.Row="0" Grid.ColumnSpan="2"  Content="Акт приема-передачи оказанных услуг" HorizontalAlignment="Center" FontSize="16"/>

        <!-- Номер договора -->
        <Label Grid.Row="1" Grid.Column="0" Content="Номер договора:" Style="{StaticResource LabelBaseStyle}"/>
        <ComboBox Grid.Row="1" Grid.Column="1"
                  x:Name="ContractCB"
                  Margin="5"
                  ItemsSource="{Binding Contracts, UpdateSourceTrigger=PropertyChanged}"
                  SelectedItem="{Binding SelectedItem,UpdateSourceTrigger=PropertyChanged}"
                  DisplayMemberPath="ContractNumber"/>
        <Label Grid.Row="2" Grid.Column="1"
               Style="{StaticResource LabelError}"
               Content="{Binding ElementName=ContractCB, Path=(Validation.Errors)[0].ErrorContent}"/>

        <!-- Номер акта -->
        <Label Grid.Row="3" Grid.Column="0" Content="Номер акта:" Style="{StaticResource LabelBaseStyle}"/>
        <TextBox Grid.Row="3" Grid.Column="1"
                 x:Name="ActNumberTB"
                 Text="{Binding ActNumber, UpdateSourceTrigger=PropertyChanged}"
                 Style="{StaticResource FormTextBox}"/>
        <Label Grid.Row="4" Grid.Column="1"
               Style="{StaticResource LabelError}"
               Content="{Binding ElementName=ActNumberTB, Path=(Validation.Errors)[0].ErrorContent}"/>

        <!-- Дата акта -->
        <Label Grid.Row="5" Grid.Column="0" Content="Дата акта:" Style="{StaticResource LabelBaseStyle}"/>
        <DatePicker Grid.Row="5" Grid.Column="1"
                    x:Name="ActDateDP"
                    SelectedDate="{Binding ActDate, UpdateSourceTrigger=PropertyChanged}"
                    Style="{StaticResource FormDatePicker}"/>
        <Label Grid.Row="6" Grid.Column="1"
               Style="{StaticResource LabelError}"
               Content="{Binding ElementName=ActDateDP, Path=(Validation.Errors)[0].ErrorContent}"/>
        
        <!-- Дата договора -->
        <Label Grid.Row="7" Grid.Column="0" Content="Дата договора:" Style="{StaticResource LabelBaseStyle}"/>
        <DatePicker Grid.Row="7" Grid.Column="1"
                    x:Name="ContractDateDP"
                    SelectedDate="{Binding ContractDate, UpdateSourceTrigger=PropertyChanged}"
                    Style="{StaticResource FormDatePicker}"/>
        <Label Grid.Row="8" Grid.Column="1"
               Style="{StaticResource LabelError}"
               Content="{Binding ElementName=ContractDateDP, Path=(Validation.Errors)[0].ErrorContent}"/>

        <!-- Дата начала периода услуги -->
        <Label Grid.Row="9" Grid.Column="0" Content="Дата начала работ:" Style="{StaticResource LabelBaseStyle}"/>
        <DatePicker Grid.Row="9" Grid.Column="1"
                    x:Name="PeriodStartDP"
                    SelectedDate="{Binding PeriodStart,UpdateSourceTrigger=PropertyChanged}"
                    Style="{StaticResource FormDatePicker}"/>
        <Label Grid.Row="10" Grid.Column="1"
               Style="{StaticResource LabelError}"
               Content="{Binding ElementName=PeriodStartDP, Path=(Validation.Errors)[0].ErrorContent}"/>

        <!-- Дата конца периода услуги -->
        <Label Grid.Row="11" Grid.Column="0" Content="Дата окончания работ:" Style="{StaticResource LabelBaseStyle}"/>
        <DatePicker Grid.Row="11" Grid.Column="1"
                    x:Name="PeriodEndDP"
                    SelectedDate="{Binding PeriodEnd,UpdateSourceTrigger=PropertyChanged}"
                    Style="{StaticResource FormDatePicker}"/>
        <Label Grid.Row="12" Grid.Column="1"
               Style="{StaticResource LabelError}"
               Content="{Binding ElementName=PeriodEndDP, Path=(Validation.Errors)[0].ErrorContent}"/>

        <!-- Тип услуги -->
        <Label Grid.Row="13" Grid.Column="0" Content="Тип услуги:" Style="{StaticResource LabelBaseStyle}"/>
        <TextBox Grid.Row="13" Grid.Column="1"
                 x:Name="ServiceTypeDescriptionTB"
                 Text="{Binding ServiceTypeDescription, UpdateSourceTrigger=PropertyChanged}"
                 Style="{StaticResource FormTextBox}"
                 Height="70"
                 VerticalContentAlignment="Top" TextWrapping="Wrap"/>
        <Label Grid.Row="14" Grid.Column="1"
               Style="{StaticResource LabelError}"
               Content="{Binding ElementName=ServiceTypeDescriptionTB, Path=(Validation.Errors)[0].ErrorContent}"/>

        <!-- Стоимость единицы -->
        <Label Grid.Row="15" Grid.Column="0" Content="Cтоимость единицы:" Style="{StaticResource LabelBaseStyle}"/>
        <TextBox Grid.Row="15" Grid.Column="1"
                 x:Name="UnitCostTB"
                 Text="{Binding UnitCost, UpdateSourceTrigger=PropertyChanged}"
                 Style="{StaticResource FormTextBox}"/>
        <Label Grid.Row="16" Grid.Column="1"
               Style="{StaticResource LabelError}"
               Content="{Binding ElementName=UnitCostTB, Path=(Validation.Errors)[0].ErrorContent}"/>

        <!-- Количество единиц -->
        <Label Grid.Row="17" Grid.Column="0" Content="Количество единиц:" Style="{StaticResource LabelBaseStyle}"/>
        <TextBox Grid.Row="17" Grid.Column="1"
                 x:Name="UnitCountTB"
                 Text="{Binding UnitCount, UpdateSourceTrigger=PropertyChanged}"
                 Style="{StaticResource FormTextBox}"/>
        <Label Grid.Row="18" Grid.Column="1"
               Style="{StaticResource LabelError}"
               Content="{Binding ElementName=UnitCountTB, Path=(Validation.Errors)[0].ErrorContent}"/>

        <!-- Номер счёта -->
        <Label Grid.Row="19" Grid.Column="0" Content="Номер счёта на оплату:" Style="{StaticResource LabelBaseStyle}"/>
        <TextBox Grid.Row="19" Grid.Column="1"
                 x:Name="InvoiceNumberTB"
                 Text="{Binding InvoiceNumber, UpdateSourceTrigger=PropertyChanged}"
                 Style="{StaticResource FormTextBox}"/>
        <Label Grid.Row="20" Grid.Column="1"
               Style="{StaticResource LabelError}"
               Content="{Binding ElementName=InvoiceNumberTB, Path=(Validation.Errors)[0].ErrorContent}"/>

        <!-- Дата счёта -->
        <Label Grid.Row="21" Grid.Column="0" Content="Дата счёта:" Style="{StaticResource LabelBaseStyle}"/>
        <DatePicker Grid.Row="21" Grid.Column="1"
                    x:Name="InvoiceDateDP"
                    SelectedDate="{Binding InvoiceDate, UpdateSourceTrigger=PropertyChanged}"
                    Style="{StaticResource FormDatePicker}"/>
        <Label Grid.Row="22" Grid.Column="1"
               Style="{StaticResource LabelError}"
               Content="{Binding ElementName=InvoiceDateDP, Path=(Validation.Errors)[0].ErrorContent}"/>

        <!-- Дата подписания -->
        <Label Grid.Row="23" Grid.Column="0" Content="Дата подписания:" Style="{StaticResource LabelBaseStyle}"/>
        <DatePicker Grid.Row="23" Grid.Column="1"
                    x:Name="SingingDateDP"
                    SelectedDate="{Binding SingingDate, UpdateSourceTrigger=PropertyChanged}"
                    Style="{StaticResource FormDatePicker}"/>
        <Label Grid.Row="24" Grid.Column="1"
               Style="{StaticResource LabelError}"
               Content="{Binding ElementName=SingingDateDP, Path=(Validation.Errors)[0].ErrorContent}"/>

        <!-- Имя файла -->
        <Label Grid.Row="25" Grid.Column="0" Content="Имя файла:" Style="{StaticResource LabelBaseStyle}"/>
        <TextBox Grid.Row="25" Grid.Column="1" 
                 x:Name="FileNameTB"
                 Text="{Binding FileName, UpdateSourceTrigger=PropertyChanged}"
                 Style="{StaticResource FormTextBox}"/>
        <Label Grid.Row="26" Grid.Column="1"
               Style="{StaticResource LabelError}"
               Content="{Binding ElementName=FileNameTB, Path=(Validation.Errors)[0].ErrorContent}"/>

        <Label Grid.Row="27" Grid.Column="0" Content="Тип документа:" Style="{StaticResource LabelBaseStyle}"/>
        <ComboBox Grid.Row="27" Grid.Column="1"
                  x:Name="SelectedGeneratorTypeCB"
                  Margin="5"
                  ItemsSource="{Binding AvailableGeneratorTypes, UpdateSourceTrigger=PropertyChanged}"
                  SelectedValue="{Binding SelectedGeneratorType, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                  DisplayMemberPath="Value"
                  SelectedValuePath="Key"/>
        <Label Grid.Row="28" Grid.Column="1"
               Style="{StaticResource LabelError}"
               Content="{Binding ElementName=SelectedGeneratorTypeCB, Path=(Validation.Errors)[0].ErrorContent}"/>

        <Button Grid.Row="32" Grid.ColumnSpan="2"
                Content="Создать"
                Width="120" Height="30"
                FontSize="16"
                IsEnabled="{Binding IsButtonEnabled, UpdateSourceTrigger=PropertyChanged}"
                Command="{Binding CreateCommand}"/>
    </Grid>
</Window>
